<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø±Ø³Ø§Ù„Ø© Ø­Ø¨</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap');

*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:"Cairo",system-ui,sans-serif;
  background:#ffc4e0;
  overflow:hidden;
}

/* Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
.start-screen{
  position:fixed;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  background:radial-gradient(circle at top,#ffe6f5,#ffb5d6);
  padding:20px;
}
.start-title{
  font-size:1.4rem;
  color:#a00054;
  margin-bottom:20px;
}
.start-btn{
  padding:10px 28px;
  border-radius:999px;
  border:none;
  font-size:1rem;
  cursor:pointer;
  background:#ff4f8c;
  color:#fff;
  box-shadow:0 6px 14px rgba(0,0,0,.18);
  transition:.2s;
}
.start-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 20px rgba(0,0,0,.22);
}

/* Ø¯Ø®Ø§Ù† ÙˆØ±Ø¯ÙŠ */
.smoke-layer{
  position:fixed;
  inset:0;
  pointer-events:none;
  overflow:hidden;
  z-index:0;
}
.smoke{
  position:absolute;
  width:400px;height:400px;
  background:radial-gradient(circle,rgba(255,192,203,0.7),transparent 60%);
  filter:blur(20px);
  opacity:.5;
  animation:smokeMove 18s ease-in-out infinite alternate;
}
.smoke:nth-child(1){top:-80px;left:-60px;animation-delay:0s;}
.smoke:nth-child(2){bottom:-120px;right:-80px;animation-delay:5s;}
.smoke:nth-child(3){top:30%;right:5%;animation-delay:10s;}

@keyframes smokeMove{
  0%{transform:translate3d(0,0,0) scale(1);}
  50%{transform:translate3d(40px,-30px,0) scale(1.1);}
  100%{transform:translate3d(-30px,20px,0) scale(1.05);}
}

/* Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø´Ø®ØµÙŠØ© */
.scene-wrapper{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  padding:20px;
  z-index:2;
}
.scene{
  width:100%;
  max-width:900px;
  height:260px;
  border-radius:26px;
  background:linear-gradient(to top,#ff8db7,#ffd3eb);
  box-shadow:0 12px 30px rgba(0,0,0,.2);
  position:relative;
  overflow:hidden;
}
.ground{
  position:absolute;
  bottom:0;left:0;right:0;
  height:60px;
  background:repeating-linear-gradient(
     90deg,
     #ff6d9e,
     #ff6d9e 40px,
     #ff9ac0 40px,
     #ff9ac0 80px
  );
}

/* Ù‚Ù„ÙˆØ¨ Ø¨Ø³ÙŠØ·Ø© */
.heart{
  position:absolute;
  width:22px;height:22px;
  background:#ff4d88;
  transform:rotate(45deg);
  opacity:0;
  animation:heartFloat 7s linear infinite;
}
.heart::before,.heart::after{
  content:"";
  position:absolute;
  width:22px;height:22px;
  background:#ff4d88;
  border-radius:50%;
}
.heart::before{left:-11px;top:0;}
.heart::after{top:-11px;left:0;}

.heart:nth-child(1){left:15%;animation-delay:.5s;}
.heart:nth-child(2){left:30%;animation-delay:1.5s;}
.heart:nth-child(3){left:50%;animation-delay:2.5s;}
.heart:nth-child(4){left:70%;animation-delay:3.5s;}
.heart:nth-child(5){left:85%;animation-delay:4.5s;}

@keyframes heartFloat{
  0%{bottom:-40px;opacity:0;transform:translateX(0) rotate(45deg) scale(.8);}
  20%{opacity:.9;}
  60%{transform:translateX(-12px) rotate(45deg) scale(1);}
  100%{bottom:260px;opacity:0;transform:translateX(10px) rotate(45deg) scale(1.1);}
}

/* Ø§Ù„Ø´Ø®ØµÙŠØ© Ø§Ù„ÙƒØ§Ø±ØªÙˆÙ†ÙŠØ© (ÙƒØ¨ÙŠØ±Ø© + Ø²ÙˆÙ…) */
.character-big{
  position:absolute;
  bottom:40px;
  left:50%;
  transform:translateX(-50%) scale(0.7);
  width:220px;
  height:220px;
  border-radius:999px;
  background:radial-gradient(circle at top,#ffe5f1,#ff8db7);
  box-shadow:0 16px 30px rgba(0,0,0,.3);
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
}
.character-play{
  animation:zoomRun 4s ease-out forwards;
}

@keyframes zoomRun{
  0%{transform:translateX(-50%) translateY(40px) scale(0.7);opacity:0;}
  10%{opacity:1;}
  60%{transform:translateX(-50%) translateY(0) scale(1.15);opacity:1;}
  80%{transform:translateX(-50%) translateY(-5px) scale(1.35);}
  100%{transform:translateX(-50%) translateY(-5px) scale(1.5);opacity:0;}
}

/* Ø±Ø³Ù… ÙƒØ§Ø±ØªÙˆÙ†ÙŠ Ø¨Ø³ÙŠØ· */
.cartoon-inner{
  position:relative;
  width:160px;
  height:190px;
}
.head{
  position:absolute;
  top:10px;left:50%;
  transform:translateX(-50%);
  width:110px;height:110px;
  border-radius:50%;
  background:#ffe6dd;
  box-shadow:0 6px 14px rgba(0,0,0,.2);
}
.hair{
  position:absolute;
  top:-10px;left:8px;right:8px;
  height:60px;
  background:#2b1933;
  border-radius:60px 60px 40px 40px;
}
.eye{
  position:absolute;
  top:45px;width:12px;height:12px;
  border-radius:50%;
  background:#221220;
  box-shadow:0 0 0 2px rgba(255,255,255,.9);
}
.eye.left{left:26px;}
.eye.right{right:26px;}
.mouth{
  position:absolute;
  bottom:28px;left:50%;
  transform:translateX(-50%);
  width:36px;height:20px;
  background:#ff99b9;
  border-radius:0 0 36px 36px;
  overflow:hidden;
  animation:talk 1s ease-in-out infinite;
}
.mouth-inner{
  position:absolute;
  inset:4px;
  background:#d6336c;
  border-radius:0 0 28px 28px;
}
.body{
  position:absolute;
  bottom:0;left:50%;
  transform:translateX(-50%);
  width:95px;height:110px;
  border-radius:60px;
  background:#ff4f8c;
}
.arm{
  position:absolute;
  top:85px;
  width:16px;height:55px;
  border-radius:30px;
  background:#ffe6dd;
  transform-origin:top;
  animation:armWave .6s ease-in-out infinite alternate;
}
.arm.left{left:15px;}
.arm.right{right:15px;animation-direction:reverse;}
.blush{
  position:absolute;
  top:65px;width:22px;height:12px;
  border-radius:50%;
  background:rgba(255,123,172,.7);
  filter:blur(1px);
}
.blush.left{left:15px;}
.blush.right{right:15px;}

@keyframes talk{
  0%{height:8px;}
  40%{height:18px;}
  100%{height:10px;}
}
@keyframes armWave{
  0%{transform:rotate(10deg);}
  100%{transform:rotate(-14deg);}
}

/* ÙÙ‚Ø§Ø¹Ø© Ø§Ù„ÙƒÙ„Ø§Ù… */
.speech{
  position:absolute;
  top:18px;
  left:50%;
  transform:translateX(-50%);
  background:rgba(255,255,255,.96);
  padding:8px 14px;
  border-radius:18px;
  font-size:.9rem;
  color:#8b0044;
  box-shadow:0 6px 14px rgba(0,0,0,.18);
  opacity:0;
}
.speech-show{
  animation:speechIn 3s ease forwards;
}
.speech::after{
  content:"";
  position:absolute;
  bottom:-10px;
  left:50%;
  transform:translateX(-50%) rotate(45deg);
  width:16px;height:16px;
  background:rgba(255,255,255,.96);
}
@keyframes speechIn{
  0%{opacity:0;transform:translateX(-50%) translateY(10px);}
  20%{opacity:1;transform:translateX(-50%) translateY(0);}
  80%{opacity:1;}
  100%{opacity:0;}
}

/* Ø´Ø§Ø´Ø© Ø§Ù„Ù†Øµ */
.text-screen{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  padding:20px;
}
.text-screen-inner{
  max-width:950px;
  width:100%;
  background:rgba(255,255,255,.98);
  border-radius:26px;
  padding:26px 20px;
  box-shadow:0 14px 38px rgba(0,0,0,.22);
  transform:scale(1.05);
  opacity:0;
  animation:showTextScreen .7s ease forwards;
}
@keyframes showTextScreen{
  from{transform:scale(1.1);opacity:0;}
  to{transform:scale(1);opacity:1;}
}
.main-title{
  font-size:1.4rem;
  color:#a00054;
  text-align:center;
  margin-bottom:18px;
}
.text-content{
  font-size:1.15rem;
  color:#7a003a;
  line-height:2.2;
}
.text-line{
  display:block;
  opacity:0;
  animation:lineIn .45s ease-out forwards;
}
@keyframes lineIn{
  from{opacity:0;transform:scale(.97);}
  to{opacity:1;transform:scale(1);}
}
.cursor{
  display:inline-block;
  width:10px;
  animation:blink .8s step-start infinite;
}
@keyframes blink{50%{opacity:0;}}

/* Ù…ÙˆØ¨Ø§ÙŠÙ„ */
@media(max-width:600px){
  .scene{height:230px;}
  .character-big{width:190px;height:190px;}
  .text-screen-inner{padding:18px 14px;}
  .text-content{font-size:1.02rem;}
}
</style>
</head>
<body>

<!-- Ø¯Ø®Ø§Ù† ÙˆØ±Ø¯ÙŠ -->
<div class="smoke-layer">
  <div class="smoke"></div>
  <div class="smoke"></div>
  <div class="smoke"></div>
</div>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
<div class="start-screen" id="startScreen">
  <div class="start-title">Ø¬Ø§Ù‡Ø²Ø© ØªØ´ÙˆÙÙŠÙ† Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ø­Ø¨ÙŠØ¨Ú†ØŸ ğŸ’—</div>
  <button class="start-btn" id="startBtn">Ø£Ø¨Ø¯ÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
</div>

<!-- Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø´Ø®ØµÙŠØ© -->
<div class="scene-wrapper" id="sceneWrapper">
  <div class="scene">
    <div class="ground"></div>

    <!-- Ù‚Ù„ÙˆØ¨ -->
    <div class="heart"></div>
    <div class="heart"></div>
    <div class="heart"></div>
    <div class="heart"></div>
    <div class="heart"></div>

    <!-- ÙÙ‚Ø§Ø¹Ø© Ø§Ù„ÙƒÙ„Ø§Ù… -->
    <div class="speech" id="speech">
      ØªØ¹Ø§Ù„ÙŠ Ø£Ø´ÙˆÙÚ† Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ø­Ø¨ÙŠØ¨Ú† ÙˆÙƒÙ„ Ø­Ø±ÙƒØ© Ø´ÙÙ‡ ÙˆØ§Ø¨ØªØ³Ø§Ù…Ø© ÙƒÙ„Ù‡Ø§ Ø¥Ù„Ùƒ ğŸ’—
    </div>

    <!-- Ø´Ø®ØµÙŠØ© ÙƒØ§Ø±ØªÙˆÙ†ÙŠØ© ÙƒØ¨ÙŠØ±Ø© -->
    <div class="character-big" id="character">
      <div class="cartoon-inner">
        <div class="head">
          <div class="hair"></div>
          <span class="eye left"></span>
          <span class="eye right"></span>
          <span class="blush left"></span>
          <span class="blush right"></span>
          <div class="mouth"><div class="mouth-inner"></div></div>
        </div>
        <div class="body"></div>
        <div class="arm left"></div>
        <div class="arm right"></div>
      </div>
    </div>

  </div>
</div>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†Øµ -->
<div class="text-screen" id="textScreen">
  <div class="text-screen-inner">
    <div class="main-title">Ø±Ø³Ø§Ù„Ø© Ù‚Ù„Ø¨ Ù…Ù† Ø£Ø¨ÙˆÚ† ÙˆØ­Ø¨ÙŠØ¨Ú† ğŸŒ¸</div>
    <div class="text-content" id="textContent"></div>
    <span class="cursor">|</span>
  </div>
</div>

<!-- ØµÙˆØª ÙƒØªØ§Ø¨Ø© Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠ (Ù…Ø¯Ù…Ø¬) -->
<audio id="typingSound" preload="auto">
  <source src="data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAA" type="audio/mp3">
</audio>

<script>
const startBtn      = document.getElementById("startBtn");
const startScreen   = document.getElementById("startScreen");
const sceneWrapper  = document.getElementById("sceneWrapper");
const characterEl   = document.getElementById("character");
const speechEl      = document.getElementById("speech");
const textScreen    = document.getElementById("textScreen");
const textContent   = document.getElementById("textContent");
const typingSound   = document.getElementById("typingSound");

// Ø§Ù„Ù†Øµ Ù…Ù‚Ø³ÙˆÙ… Ø£Ø³Ø·Ø±ØŒ ÙƒÙ„ Ø³Ø·Ø± Ù†ÙƒØªØ¨Ù‡ ÙƒÙ„Ù…Ø© ÙƒÙ„Ù…Ø©
const lines = [
"Ù…Ù† Ø¹Ø±ÙØªÚ† Ù‚Ù„Ø¨ÙŠ Ø±Ø¯ ÙŠØ­Ø³ Ø¨Ø´ÙŠ ØºØ±ÙŠØ¨ØŒ Ø´ÙŠ Ù…Ø§ Ù…Ø± Ø¨Ø­ÙŠØ§ØªÙŠ ÙˆÙ„Ø§ Ù…Ø± Ø¨Ø®Ø§Ø·Ø±ÙŠØŒ Ø­Ø³ÙŠØª Ø±ÙˆØ­ÙŠ ØªÙ†Ø³Ø­Ø¨ ÙŠÙ…Ú† ÙˆØ§Ø±ØªØ§Ø­ ÙˆÙƒØ£Ù†Ù‡ ÙƒÙ„ Ø§Ù„ØªØ¹Ø¨ Ø§Ù„ÙŠ Ø´Ø§ÙŠÙ„ØªÙ‡ Ø³Ù†ÙŠÙ† Ø·Ø§Ø­ Ù…Ø±Ù‡ ÙˆØ­Ø¯Ù‡ØŒ Ø§Ù†ØªÙŠ ØµØ±ØªÙŠ Ø¨Ù†ØªÙŠ ÙˆØ­Ø¨ÙŠØ¨ØªÙŠ ÙˆØ²ÙˆØ¬ØªÙŠ Ø¨Ø±ÙˆØ­ÙŠ Ø¨Ø¯ÙˆÙ† Ù…Ø§ ÙŠØµÙŠØ± Ø´ÙŠ Ø±Ø³Ù…ÙŠ Ø¨Ø³ ÙƒÙ„Ø´ÙŠ ØµØ§Ø± Ø¯Ø§Ø®Ù„ ÙƒÙ„Ø¨ÙŠ.",
"Ø§Ù†ØªÙŠ Ù…Ùˆ Ø¨Ø³ Ø­Ø¨ÙŠØ¨Ù‡ØŒ Ø§Ù†ØªÙŠ Ø§Ù„Ø¹Ù…Ø± ÙƒÙ„Ù‡ØŒ Ø§Ù†ØªÙŠ Ø§Ù„Ù†Ø¹Ù…Ù‡ Ø§Ù„ÙŠ Ø§Ø®Ø§Ù Ø¹Ù„ÙŠÙ‡Ø§ Ø­ØªÙ‰ Ù…Ù† Ù†ÙØ³ÙŠØŒ Ø§Ù†ØªÙŠ Ø§Ù„Ø­Ø¶Ù† Ø§Ù„ÙŠ Ù…Ø§ Ø§Ø¨Ø¯ Ø§Ø±ØªÙØ¹ Ø¹Ù†Ù‡ØŒ Ø§Ù†ØªÙŠ ØµØ¨Ø±ÙŠ ÙˆÙ‚ÙˆØªÙŠ ÙˆØ³ÙƒÙˆÙ†ÙŠ ÙˆØ±Ø§Ø­ØªÙŠØŒ ÙˆØ­ØªÙ‰ Ø¶Ø¹ÙÙŠ Ù…Ù† ÙŠØµÙŠØ± ÙŠÙ…Ú† ÙŠØªØ­ÙˆÙ„ Ù‚ÙˆÙ‡ Ù„Ø§Ù† Ù†Ø¸Ø±ØªÚ† Ø§Ù„ÙŠ ØªÙƒÙÙŠÙ†ÙŠ.",
"Ø§Ù†ÙŠ ÙˆØ¹Ø¯ Ø§Ù„Ø¬ ÙƒÙ„Ø´ÙŠ ÙŠØµÙŠØ± Ø¨Ø§Ù„Ø¯Ù†ÙŠØ§ Ù…Ø§ Ø§Ø®Ù„ÙŠÚ† ØªÙ†ÙƒØ³Ø±ÙŠÙ†ØŒ ÙˆÙ„Ø§ Ø§Ø®Ù„ÙŠ Ø¯Ù…Ø¹Ù‡ ØªÙˆÙ‚Ù Ø¨Ø¹ÙŠÙ†Ú† ÙˆØ­Ø¯Ú†ØŒ ÙˆÙ„Ø§ Ø§Ø®Ù„ÙŠ Ù„ÙŠÙ„Ù‡ ØªÙ…Ø± ÙˆØ§Ù†ØªÙŠ Ø¶Ø§ÙŠØ¬Ù‡ Ø§Ùˆ Ù…ÙˆØ¬ÙˆØ¹Ù‡ØŒ Ø§Ù†ÙŠ ÙŠÙ…Ú† ÙƒÙ„Ø´ÙŠ ÙŠØµÙŠØ± Ø³Ù†Ø¯Ú† ÙˆØ¸Ù‡Ø±Ú† ÙˆØ§Ù…Ø§Ù†Ú† ÙˆØ¶Ù„Ú† ÙˆÙ‚Øª Ø§Ù„Ø­Ø± ÙˆØ±ÙˆØ­Ú† ÙˆÙ‚Øª Ø§Ù„Ø®ÙˆÙ.",
"Ø§Ø­Ø¨Ú† Ø¹Ø´Ù‚ ÙŠÙØªØ± Ø¨Ø§Ù„ØµØ¯Ø± ÙˆÙŠØ±Ø¬Ù Ø§Ù„Ø±ÙˆØ­ØŒ ÙˆÙŠØ®Ù„ÙŠÙ†ÙŠ Ø§ØºØ§Ø± Ù„Ùˆ Ø§Ù„Ù‡ÙˆØ§ Ù„Ø¹Ø¨ Ø¨Ø´Ø¹Ø±Ú†ØŒ Ù„Ùˆ ØµÙˆØª ØºÙŠØ±ÙŠ Ù†Ø§Ø¯Ø§Ù„Ø¬ØŒ Ù„Ùˆ Ø­ØªÙ‰ Ø§Ù„ØªÙÙƒÙŠØ± Ø±Ø§Ø­ Ø¨Ø¹ÙŠØ¯ Ø¹Ù†ÙŠØŒ Ø§Ù†ÙŠ Ù…Ø§ Ø§Ø´ÙˆÙ ØºÙŠØ±Ú† ÙˆÙ…Ø§ Ø§Ø±ÙŠØ¯ ØºÙŠØ±Ú† ÙˆÙ…Ø§ Ø§Ø±ÙŠØ¯ Ø§Ù„Ø¹Ù…Ø± ÙŠÙ…Ø´ÙŠ Ø§Ø°Ø§ Ø§Ù†ØªÙŠ Ù…Ùˆ ÙŠÙ…Ù‡.",
"Ø§Ù†ØªÙŠ Ø³Ù†Ø¯ÙŠ Ù…Ù† Ù‡Ù„Ø¯Ù†ÙŠÙ‡ØŒ Ù…Ø§Ø±ÙŠØ¯ Ù…Ù† Ù‡Ù„Ø¯Ù†ÙŠÙ‡ ØºÙŠØ± ÙØ±Ø­ØªÚ† ÙˆØ±Ø§Ø­ØªÚ†ØŒ Ø§Ø­Ø¨Ú† ÙƒÙ„Ø´ Ù‡ÙˆØ§ÙŠÙŠ Ù‡ÙˆØ§ÙŠÙŠ.",
"ØªØ¨Ù‚ÙŠÙ† Ø§Ù†ØªÙŠ Ø¨Ù†ØªÙŠ ÙˆØ±ÙˆØ­ÙŠ ÙˆØ²ÙˆØ¬ØªÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© Ø§Ù„ÙŠ Ø§Ø®Ù„ÙŠ ÙƒÙ„ Ø¹Ù…Ø±ÙŠ Ø¨ÙŠØ¯Ù‡Ø§ ÙˆØ§Ù‚ÙˆÙ„Ù‡Ø§ Ø®Ø°ÙŠ ÙƒÙ„Ø´ÙŠ ÙˆØ§Ù†ÙŠ Ø§Ø¨Ù‚Ù‡ ÙŠÙ…Ú† Ù„Ù„Ø§Ø¨Ø¯ØŒ Ø§Ù†ØªÙŠ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø­Ù„ÙˆØ© Ø§Ù„ÙŠ Ù…Ø§ ØªÙ†Ø¹Ø§Ø¯ Ù…Ø±ØªÙŠÙ†ØŒ ÙˆØ§Ù†ØªÙŠ Ø§Ù„Ù„Ø­Ø¸Ø© Ø§Ù„ÙŠ Ø§Ù„Ù„Ù‡ Ø±Ø²Ù‚Ù†ÙŠ Ø¨ÙŠÙ‡Ø§ Ø­ØªÙ‰ Ø§Ø¹Ø±Ù Ø´Ù†Ùˆ ÙŠØ¹Ù†ÙŠ ÙˆØ§Ø­Ø¯ ÙŠØ­Ø¨ Ù…Ù† Ù‚Ù„Ø¨Ù‡ ØµØ¯Ùƒ Ù…Ùˆ Ù„Ø¹Ø¨."
];

let lineIndex = 0;
let wordIndex = 0;
let currentWords = [];
let currentLineElement = null;
const wordDelay = 160;   // Ø³Ø±Ø¹Ø© Ø§Ù„ÙƒÙ„Ù…Ø©
const linePause = 900;   // ØªÙˆÙ‚Ù Ø¨Ø³ÙŠØ· Ø¨ÙŠÙ† Ø§Ù„Ø£Ø³Ø·Ø±

function startTyping(){
  lineIndex = 0;
  wordIndex = 0;
  textContent.innerHTML = "";
  typeNextLine();
}

function typeNextLine(){
  if(lineIndex >= lines.length){
    try{ typingSound.pause(); }catch(e){}
    return;
  }
  // Ø³Ø·Ø± Ø¬Ø¯ÙŠØ¯
  currentWords = lines[lineIndex].split(" ");
  wordIndex = 0;
  currentLineElement = document.createElement("span");
  currentLineElement.className = "text-line";
  textContent.appendChild(currentLineElement);
  textContent.appendChild(document.createElement("br"));
  setTimeout(()=>{
    typeWord();
  }, 200);
}

function typeWord(){
  if(wordIndex === 0){
    // Ø¨Ø¯Ø§ÙŠØ© Ø³Ø·Ø±: Ø´ØºÙ„ ØµÙˆØª
    try{
      typingSound.currentTime = 0;
      typingSound.play().catch(()=>{});
    }catch(e){}
  }

  if(wordIndex < currentWords.length){
    currentLineElement.textContent += (wordIndex === 0 ? "" : " ") + currentWords[wordIndex];
    wordIndex++;
    setTimeout(typeWord, wordDelay);
  }else{
    // Ø®Ù„Øµ Ø§Ù„Ø³Ø·Ø±
    try{ typingSound.pause(); }catch(e){}
    lineIndex++;
    setTimeout(typeNextLine, linePause);
  }
}

// Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
startBtn.addEventListener("click", ()=>{
  // Ø§Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
  startScreen.style.display = "none";

  // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…Ø´Ù‡Ø¯
  sceneWrapper.style.display = "flex";

  // ØªØ´ØºÙŠÙ„ Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø§Ù„Ø´Ø®ØµÙŠØ© ÙˆØ§Ù„ÙÙ‚Ø§Ø¹Ø©
  characterEl.classList.add("character-play");
  speechEl.classList.add("speech-show");

  // Ø¨Ø¹Ø¯ Ù…Ø§ ØªØ®Ù„Øµ Ø§Ù„Ø­Ø±ÙƒØ© (Ø­ÙˆØ§Ù„ÙŠ 4 Ø«ÙˆØ§Ù†ÙŠ) Ù†Ø±ÙˆØ­ Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ù†Øµ
  setTimeout(()=>{
    sceneWrapper.style.display = "none";
    textScreen.style.display = "flex";
    startTyping();
  }, 4200);
});
</script>

</body>
</html>
